(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),o=a.n(s),l=(a(44),a(71),a(6)),i=a(7),c=a(12),u=a(13),d=a(17),m=a(20),p=a(65),h=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.path===this.props.location.pathname&&this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(p.a)(e,["component"]);return r.a.createElement(m.a,Object.assign({},a,{render:function(e){return r.a.createElement(t,e)}}))}}]),a}(n.Component),g=Object(m.f)(h),f=a(27),k=a(58),v=a.n(k),E=a(41),b=a.n(E),T=a(59),S=a.n(T),A=a(14),O=a.n(A),y=a(5),w=a.n(y),U=new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"login",value:function(e,t){return O.a.post(w.a.API_URL+w.a.SIGNIN,{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a,n){return O.a.post(w.a.API_URL+w.a.SIGNUP_USER,{full_name:e,username:t,email:a,password:n})}},{key:"registerManager",value:function(e,t,a,n){return O.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL+w.a.SIGNUP_MANAGER,{full_name:e,username:t,email:a,password:n})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),j=(a(97),function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")}),C=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(f.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(f.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(f.a)(n)),n.state={username:"",password:"",loading:!1,message:"",currentUser:U.getCurrentUser()},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null!=this.state.currentUser&&(this.props.history.push("/dashboard"),window.location.reload())}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?U.login(this.state.username,this.state.password).then((function(){t.props.history.push("/dashboard"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement(v.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(b.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[j]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(b.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[j]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.loading},this.state.loading&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(S.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component),N=Object(m.f)(C),I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))},L=a(106),_=a(105),P=(a(98),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logout=function(){U.logout(),e.props.history.push("/")},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,{className:"background pb-navbar",expand:"lg"},r.a.createElement(L.a.Brand,null,"XCIDIC"),r.a.createElement(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(L.a.Collapse,null,r.a.createElement(_.a,{className:"ml-auto"},r.a.createElement(_.a.Link,{as:d.b,to:"/dashboard"},"Dashboard"),r.a.createElement(_.a.Link,{onClick:this.logout},"Logout"))))}}]),a}(n.Component)),R=Object(m.f)(P),W=a(35),D=a(36);a(100);function M(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken,Accept:"application/json, text/plain, */*","Content-Type":"application/json"}:{}}var x=new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllUsers",value:function(){return O.a.get(w.a.API_URL+w.a.GET_ALL_USERS,{headers:M()})}}]),e}()),G=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).routesToEmployee=function(e){n.props.history.push("/task/"+e)},n.userTable=function(){return n.state.userList.map((function(e,t){return r.a.createElement("tr",{key:e.id,onClick:function(){return n.routesToEmployee(e.id)}},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.username))}))},n.renderWarning=function(){var e=n.state.message;return r.a.createElement(D.a,{variant:"danger"},"Warning! ",e)},n.state={currentUser:U.getCurrentUser(),userList:null,message:"",isShowWarning:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.currentUser;if("ROLE_MANAGER"===t.roles||"ROLE_ADMIN"===t.roles)x.getAllUsers().then((function(t){e.setState({userList:t.data})}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();e.setState({message:a,isShowWarning:!0})}));else{var a=[];a.push(this.state.currentUser),this.setState({userList:a})}}},{key:"render",value:function(){var e=this.state,t=e.userList,a=e.isShowWarning;return r.a.createElement("div",{className:"container"},a?this.renderWarning():null,r.a.createElement("h1",null,"List Users"),r.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Employee Name"))),r.a.createElement("tbody",null,null!=t?this.userTable():null)))}}]),a}(n.Component),K=Object(m.f)(G),B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(K,null))},J=a(28),z=a(23),V=(a(101),new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllTask",value:function(e){return O.a.post(w.a.API_URL+w.a.TASKS+"/all",{userId:e},{headers:M()})}},{key:"createTask",value:function(e){return O.a.post(w.a.API_URL+w.a.TASKS,e,{headers:M()})}},{key:"updateTask",value:function(e,t){return O.a.put(w.a.API_URL+w.a.TASKS+"/"+e,t,{headers:M()})}},{key:"findOne",value:function(e){return O.a.post(w.a.API_URL+w.a.TASKS+"/"+e,{headers:M()})}},{key:"remove",value:function(e){return O.a.delete(w.a.API_URL+w.a.TASKS+"/"+e,{headers:M()})}}]),e}())),F=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).taskModel=function(){return{title:"",description:"",userId:""}},n.getAllTask=function(e){n.taskModel().userId=e,V.getAllTask(n.state.id).then((function(e){n.setState({allTask:e.data,isShowAllTask:!0,isUpdateTask:!1,isAddTask:!1})}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();n.setState({message:t,isShowWarning:!0})}))},n.updateTask=function(e,t){V.updateTask(e,t).then((function(e){n.getAllTask()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();n.setState({message:t,isShowWarning:!0})}))},n.createTask=function(e){V.createTask(e).then((function(e){n.getAllTask()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();n.setState({message:t,isShowWarning:!0})}))},n.findOneTask=function(e){V.findOne(e).then((function(e){n.setState({taskDetail:e.data,isShowAllTask:!1,isUpdateTask:!0,isAddTask:!1},(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();n.setState({message:t,isShowWarning:!0})}))}))},n.addTask=function(){n.setState({isShowAllTask:!1,isUpdateTask:!1,isAddTask:!0})},n.deleteTask=function(e){n.taskModel().userId=n.state.id,V.remove(e).then((function(e){n.getAllTask(n.state.id)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();n.setState({message:t,isShowWarning:!0})}))},n.taskTable=function(){return n.state.allTask.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement(J.a,{variant:"warning",onClick:function(){return n.findOneTask(e.id)}},"Update"),r.a.createElement(J.a,{variant:"danger",onClick:function(){return n.deleteTask(e.id)}},"Delete")))}))},n.renderAllTask=function(){var e=n.state.allTask;return r.a.createElement("div",{className:"container section"},r.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Task"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,null!=e?n.taskTable():null)))},n.renderUpdateTask=function(){var e=n.state.taskDetail,t=n.taskModel();return r.a.createElement("div",{className:"container section"},r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Control,{type:"text",placeholder:"Title",defaultValue:e.title,onChange:function(e){t.title=e.currentTarget.value}}),r.a.createElement("br",null),r.a.createElement(z.a.Control,{as:"textarea",rows:"3",placeholder:" Description",defaultValue:e.description,onChange:function(e){t.description=e.currentTarget.value}}),r.a.createElement("br",null),r.a.createElement(J.a,{variant:"primary",size:"lg",block:!0,onClick:function(){return function(t){t.userId=n.state.id,n.updateTask(e.id,t)}(t)}},"Update")))},n.renderAddTask=function(){var e=n.taskModel();return r.a.createElement("div",{className:"container section"},r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Control,{type:"text",placeholder:"Title",onChange:function(t){e.title=t.currentTarget.value}}),r.a.createElement("br",null),r.a.createElement(z.a.Control,{as:"textarea",rows:"3",placeholder:" Description",onChange:function(t){e.description=t.currentTarget.value}}),r.a.createElement("br",null),r.a.createElement(J.a,{variant:"primary",size:"lg",block:!0,onClick:function(){return function(e){e.userId=n.state.id,n.createTask(e)}(e)}},"Add Task")))},n.renderWarning=function(){var e=n.state.message;return r.a.createElement(D.a,{variant:"danger"},"Warning! ",e)},n.state={id:n.props.match.params.id,role:U.getCurrentUser().roles,isShowAllTask:!0,isUpdateTask:!1,isAddTask:!1,message:"",isShowWarning:!1,taskDetail:{},allTask:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAllTask(this.state.id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isShowAllTask,n=t.isUpdateTask,s=t.isAddTask,o=t.isShowWarning;return r.a.createElement("div",{className:"container"},o?this.renderWarning():null,r.a.createElement("h1",null,"Task Monitoring"),r.a.createElement(J.a,{variant:"primary",onClick:function(){return e.addTask()}},"Add Task"),a?this.renderAllTask():null,n?this.renderUpdateTask():null,s?this.renderAddTask():null)}}]),a}(n.Component),H=Object(m.f)(F),q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(H,null))},X=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.c,null,r.a.createElement(g,{exact:!0,path:"/",component:I}),r.a.createElement(g,{path:"/dashboard",component:B}),r.a.createElement(g,{path:"/task/:id",component:q})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,a){},5:function(e,t){var a=Object.freeze({API_URL:"https://xcidic-be.herokuapp.com/api/",SIGNIN:"auth/signin",SIGNUP_USER:"auth/signup/user",SIGNUP_MANAGER:"auth/signup/manager",GET_ALL_USERS:"users/all",TASKS:"tasks"});e.exports=a},66:function(e,t,a){e.exports=a(102)},97:function(e,t,a){},98:function(e,t,a){}},[[66,1,2]]]);